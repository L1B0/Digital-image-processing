# 数图作业日志

> 待实现的功能：
>
> 1. ~~左侧界面固定，右侧展示功能的主界面。~~
> 2. ~~左侧widget的触发槽函数~~(用tabwidget->currentindex()间接实现)
> 3. ~~每个功能界面的恢复（显示原图）功能。~~
> 4. 图片拖拽导入
> 5. ~~界面内图片拖拽(用滚动条间接实现)~~
>
> 待修复的bug：
>
> 1. jpg格式的图像灰度级调整保存之后，打开的rgb值不对。
> 2. ~~png图片有问题（QImage::Format_Indexed8的问题，已修复）~~

## 9.22

1. 实现图像的打开和保存功能。
2. 实现对灰度图像的灰度级和采样率的调整。

## 9.25

1. 添加灰度图转位平面的功能。

## 9.26

1. 添加全局变量

   ```c
   extern QImage myImage,newImage;
   extern QString path;
   extern char imageType;
   extern int imageWidth,imageHeight,imageGray;
   ```

2. 添加mypic.h和mypic.cpp，将所有头文件的声明以及常用自定义的函数放进去。

3. 修复了若**原采样率**模**新的采样率**不为0时，处理之后的图像有部分未得到处理的bug。

4. 添加了识别图像format的函数。

## 9.27

1. 修复了**findImageType**函数中QString转换char出错的问题。

   ```c
   // Wrong!
   const char *cpath = path.toLatin1().data();
   // Right!
   QByteArray ba = path.toLatin1();
   const char *cpath = ba.data();
   ```

2. 新增全局变量cpath，添加灰度图转位平面的提示图片保存路径功能。

3. 重新设计主页面，添加功能栏（左侧），使用`tabwidget`实现单个窗口显示多个页面。

4. 添加显示灰度直方图的功能。

5. 添加阀值功能，系统会在打开图像时用**迭代法**计算出一个最佳阀值，用户也可自定义阀值生成相应图像。

## 10.11

1. 添加**采样率**和**灰度级**界面的灰度直方图显示。
2. 添加**点运算**界面，包含灰度的线性变换，对数变换和幂律变换。
3. 添加**灰度直方图均衡化**。

## 10.12

1. 添加图片的滚动条(间接修复了图片大小不能很好的适应label的问题)
2. 添加图片缩放功能（用最近邻插值算法和双线性插值算法实现）
3. 添加图片旋转功能

## 10.14

1. 修复打开格式为`QImage::Format_Indexed8`的图片时出现`QImage::pixel: color table index 32 out of range.`的bug，原因是定义`QImage`时没有`setcolortable`。

## 10.16

1. 将存放图片的控件由QLabel改为QWidget，以此添加图片的右键保存功能。
2. 删除原本`File`菜单的`save`。

## 10.18

1. 添加脚本`imageTrans.py`，用于对图像进行DFT，DCT和DWT三种处理。
2. 添加图像平滑处理。

## 10.19

1. 图像锐化处理，支持Roberts、Sobel和Laplacian算子，以及自定义模板。

## 10.23

1.  添加原图显示，及函数注释。
2.  修复再次打开图片之后放缩倍数不归0的bug。

## 10.25

1. 添加彩色图（RGB32，ARGB32）转灰度图。


## 10.26

1. 修复彩色图转灰度图后生成的图片类型不改变的bug。

## 11.1

1. 新增图片右键”应用“功能，即将点击的图片应用到其他界面上，实现了图片叠加变换。


## 11.2

1. 完善图像中的直线检测功能。


## 11.7

1. 添加huffman编码压缩灰度图。

## 11.8

1. 完成解压缩.huff文件。
2. 完成游程编码压缩及解压缩灰度图。



# 数图作业圆满完成！！！

# 2018.11.8 20:38:40

